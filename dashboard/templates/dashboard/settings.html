{% extends 'dashboard/base.html' %}

{% block title %}Settings - Jitsi{% endblock %}
{% block page_title %}Settings{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px;">
    <div class="card-header">Dashboard Settings</div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label>Refresh Interval (seconds)</label>
                <input type="number" name="refresh_interval" class="form-control" value="{{ settings.refresh_interval_seconds|default:5 }}" min="1" max="60">
            </div>
            <div class="form-group">
                <label>JWT Token Expiry (hours)</label>
                <input type="number" name="jwt_expiry" class="form-control" value="{{ settings.default_jwt_expiry_hours|default:24 }}" min="1" max="168">
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" name="enable_webhooks" {% if settings.enable_webhooks %}checked{% endif %}> Enable Webhooks
                </label>
            </div>
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </form>
    </div>
</div>

<div class="card" style="max-width: 600px; margin-top: 20px;">
    <div class="card-header">Server Configuration</div>
    <div class="card-body">
        <p><strong>Server URL:</strong> {{ jitsi_url|default:"Not configured" }}</p>
        <p><strong>App ID:</strong> {{ jitsi_app_id|default:"Not configured" }}</p>
        <p style="color: #666; font-size: 13px; margin-top: 15px;">
            <i class="fas fa-info-circle"></i> Server settings are configured in <code>jitsi/settings.py</code>
        </p>
    </div>
</div>
{% endblock %}
