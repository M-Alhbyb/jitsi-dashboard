{% extends 'dashboard/base.html' %}

{% block title %}Conferences - Jitsi{% endblock %}
{% block page_title %}Conferences{% endblock %}

{% block content %}
<div style="margin-bottom: 20px;">
    <a href="{% url 'dashboard:create_meeting' %}" class="btn btn-primary"><i class="fas fa-plus"></i> New Meeting</a>
</div>

<div class="card">
    <table>
        <thead>
            <tr>
                <th>Room Name</th>
                <th>Status</th>
                <th>Participants</th>
                <th>Duration</th>
                <th>Started</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for conf in conferences %}
            <tr>
                <td><a href="{% url 'dashboard:conference_detail' conf.pk %}">{{ conf.display_name|default:conf.room_name }}</a></td>
                <td>
                    {% if conf.status == 'active' %}<span class="badge badge-success">Active</span>
                    {% elif conf.status == 'ended' %}<span class="badge badge-info">Ended</span>
                    {% else %}<span class="badge badge-warning">{{ conf.status }}</span>{% endif %}
                </td>
                <td>{{ conf.max_participants }}</td>
                <td>{{ conf.duration }} min</td>
                <td>{{ conf.started_at|date:"M d, H:i"|default:"--" }}</td>
                <td><a href="{% url 'dashboard:conference_detail' conf.pk %}" class="btn btn-secondary" style="padding:5px 10px; font-size:12px;">View</a></td>
            </tr>
            {% empty %}
            <tr><td colspan="6" style="text-align:center; color:#999; padding:40px;">No conferences yet. Create one to get started!</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
